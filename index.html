<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Similar Photos Review</title>
    <style>
        /* =========================================
           Base Design & Gradient
           ========================================= */
        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            /* èƒŒæ™¯ã‚’éå¸¸ã«è–„ã„ãƒ‘ã‚¹ãƒ†ãƒ«èª¿ã®ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã«å¤‰æ›´ */
            background: linear-gradient(-45deg, #fdfbfb, #ebedee, #f3e7e9, #e3eeff);
            background-size: 400% 400%;
            animation: gradientBG 15s ease infinite;
            
            color: #333;
            margin: 0;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        @keyframes gradientBG {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* --- Header Section --- */
        header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 800px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .title-image {
            height: 60px;
            width: auto;
            object-fit: contain;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        h1 {
            font-size: 2rem;
            margin: 0;
            color: #555; /* èƒŒæ™¯ãŒæ˜ã‚‹ã„ã®ã§æ–‡å­—è‰²ã‚’å°‘ã—æ¿ƒã */
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- Methodology Toggle --- */
        .method-toggle-container {
            width: 100%;
            max-width: 800px;
            text-align: right;
            margin-bottom: 10px;
        }
        .method-btn {
            background: none;
            border: none;
            color: #777;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }
        .method-btn:hover { color: #333; }

        .methodology-box {
            display: none;
            background: rgba(255, 255, 255, 0.9);
            padding: 20px;
            max-width: 800px;
            border-left: 4px solid #3498db;
            margin-bottom: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            border-radius: 8px;
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from{opacity:0;transform:translateY(-5px)} to{opacity:1;transform:translateY(0)} }

        /* --- Category Tabs --- */
        .genre-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
            width: 100%;
            max-width: 800px;
        }
        .genre-btn {
            padding: 8px 16px;
            background: rgba(255, 255, 255, 0.6);
            border: 1px solid rgba(0,0,0,0.05);
            border-radius: 20px;
            cursor: pointer;
            color: #555;
            font-weight: bold;
            transition: 0.2s;
        }
        .genre-btn:hover { background: #fff; }
        .genre-btn.active {
            background: #2c3e50;
            color: #fff;
            border-color: #2c3e50;
            box-shadow: 0 2px 10px rgba(44, 62, 80, 0.2);
        }

        /* --- Gallery List Area --- */
        #gallery-list {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 40px;
            padding-bottom: 40px;
        }

        /* --- Individual Photo Card --- */
        .photo-card {
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05);
            overflow: hidden;
        }

        .card-header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fdfdfd;
            border-bottom: 1px solid #eee;
        }
        .card-number {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 1.1rem;
            color: #2c3e50;
        }
        .toggle-frame-btn {
            padding: 6px 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: 0.2s;
        }
        .toggle-frame-btn:hover { background: #219150; }
        .toggle-frame-btn.active { background: #e74c3c; }

        .image-wrapper {
            position: relative;
            width: 100%;
            background: #f4f4f4;
        }
        .main-image {
            width: 100%;
            display: block;
        }

        .hotspot {
            position: absolute;
            cursor: pointer;
            border: 3px solid;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            display: none;
            transition: 0.2s;
            box-shadow: 0 0 5px rgba(0,0,0,0.3);
        }
        .hotspot:hover {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 0 15px rgba(255,255,255,0.8);
        }

        /* Description Box */
        .desc-box {
            padding: 25px;
            display: none;
            border-top: 3px solid #ddd;
            background: #fff;
        }
        .desc-title { font-size: 1.3rem; font-weight: bold; margin-bottom: 10px; display: block; }

        /* --- Audio Button Styles --- */
        .speak-btn {
            background: none;
            border: 1px solid #eee;
            color: #2c3e50;
            cursor: pointer;
            font-size: 1rem;
            padding: 4px;
            border-radius: 50%;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            margin-left: 8px; /* æ–‡å­—ã¨ã®é–“éš” */
            vertical-align: middle;
        }
        .speak-btn:hover {
            background-color: #2c3e50;
            color: #fff;
            border-color: #2c3e50;
        }
        .speak-btn:active { transform: scale(0.9); }

        /* Main English Text Layout */
        .eng-row {
            display: flex;
            align-items: flex-start;
            justify-content: space-between;
            gap: 10px;
            margin-bottom: 5px;
        }
        .eng-text {
            font-size: 1.1rem;
            color: #222;
            line-height: 1.4;
            flex-grow: 1;
        }

        .jp-text { font-size: 0.9rem; color: #666; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px dashed #ddd; }

        /* Learning Grid */
        .learning-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 600px) { .learning-grid { grid-template-columns: 1fr; } header { flex-direction: column; text-align: center; } h1 { font-size: 1.5rem; } }
        
        .learn-item h4 { 
            margin: 0 0 5px 0; 
            font-size: 0.8rem; 
            color: #95a5a6; 
            text-transform: uppercase; 
            display: flex;
            align-items: center; /* ãƒœã‚¿ãƒ³ã¨æƒãˆã‚‹ */
        }
        .learn-item ul { margin: 0; padding-left: 20px; font-size: 0.9rem; }
        .learn-item li { margin-bottom: 3px; }

        /* ãƒŸãƒ‹å†ç”Ÿãƒœã‚¿ãƒ³ï¼ˆãƒªã‚¹ãƒˆç”¨ï¼‰ */
        .mini-speak-btn {
            background: none;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            color: #bdc3c7;
            margin-left: 5px;
            padding: 0;
            line-height: 1;
        }
        .mini-speak-btn:hover { color: #2c3e50; }

    </style>
</head>
<body>

    <header>
        <img src="title.png" alt="App Icon" class="title-image" onerror="this.style.display='none'">
        <h1>Similar Photos Review</h1>
    </header>

    <div class="method-toggle-container">
        <button class="method-btn" onclick="toggleMethod()">â“˜ About This Method</button>
    </div>
    <div id="method-box" class="methodology-box">
        <p style="margin:0; font-size:0.95rem; line-height:1.6; color:#555;">
            <strong>Why This Method Works:</strong><br>
            æ­£ç¢ºãªæå†™åŠ›ã¯ã€ä¼šè©±åŠ›ã®è¦ã§ã™ã€‚ã€ŒSimilar Photos Reviewã€ã¯ã€è¦‹ãŸã‚‚ã®ã‚’æ­£ç¢ºã«è¨€èªåŒ–ã—ã€ç›¸æ‰‹ã«ä¼ãˆã‚‹åŠ›ã‚’é¤Šã„ã¾ã™ã€‚
            è¦–è¦šæƒ…å ±ã¨è¨€èªã‚’çµã³ã¤ã‘ã‚‹ã“ã®ãƒ—ãƒ­ã‚»ã‚¹ã¯ã€è¨˜æ†¶ã«å®šç€ã—ã‚„ã™ãã€å®Ÿè·µçš„ãªã‚³ãƒŸãƒ¥ãƒ‹ã‚±ãƒ¼ã‚·ãƒ§ãƒ³èƒ½åŠ›ã‚’é«˜ã‚ã‚‹éå¸¸ã«åŠ¹æœçš„ãªå­¦ç¿’æ³•ã§ã™ã€‚
        </p>
    </div>

    <div class="genre-tabs">
        <button class="genre-btn active" onclick="renderCategory(0)">000 Series</button>
        <button class="genre-btn" onclick="renderCategory(1)">100 Series</button>
        <button class="genre-btn" onclick="renderCategory(2)">200 Series</button>
        <button class="genre-btn" onclick="renderCategory(3)">300 Series</button>
        <button class="genre-btn" onclick="renderCategory(4)">400 Series</button>
        <button class="genre-btn" onclick="renderCategory(5)">500 Series</button>
    </div>

    <div id="gallery-list">
        </div>

    <script>
        // ============================================
        // â˜…ãƒ‡ãƒ¼ã‚¿ã‚¨ãƒªã‚¢ (Data)
        // ============================================
        const galleryData = [
            {
                imageFile: "001.png", 
                spots: [
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#3498db",
                        title: "Center: A Pair of Penguins",
                        eng: "Two penguins are standing side by side in the central cubby.",
                        jp: "ä¸­å¤®ã®å°éƒ¨å±‹ã«2ç¾½ã®ãƒšãƒ³ã‚®ãƒ³ãŒä¸¦ã‚“ã§ç«‹ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["cubby (æ£šã®åŒºç”»)", "side by side (ä¸¦ã‚“ã§)", "central (ä¸­å¤®ã®)"],
                        idioms: ["stick together (ä¸€ç·’ã«ã„ã‚‹)"],
                        synonyms: ["duo (pair)"],
                        grammar: "ä½ç½®ã‚’è¡¨ã™å‰ç½®è© 'in' ã¨ã€çŠ¶æ…‹ã‚’è¡¨ã™ç¾åœ¨é€²è¡Œå½¢ 'are standing' ã®çµ„ã¿åˆã‚ã›ã§ã™ã€‚"
                    },
                    {
                        top: "69%", left: "3%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Bottom-Left: A Solitary Rabbit",
                        eng: "A brown rabbit sits alone in the bottom-left section.",
                        jp: "èŒ¶è‰²ã®ã‚¦ã‚µã‚®ãŒå·¦ä¸‹ã®åŒºç”»ã«ä¸€åŒ¹ã§åº§ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["solitary (å˜ç‹¬ã®)", "section (åŒºç”»)", "bottom-left (å·¦ä¸‹)"],
                        idioms: ["lone wolf (ä¸€åŒ¹ç‹¼)"],
                        synonyms: ["alone (solitary)"],
                        grammar: "å ´æ‰€ã‚’æŒ‡ã™å‰¯è©å¥ 'in the bottom-left section' ãŒæ–‡æœ«ã«æ¥ã¦ã„ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "002.png", 
                spots: [
                    {
                        top: "36%", left: "3%", width: "28%", height: "28%", color: "#95a5a6",
                        title: "Left: A Koala",
                        eng: "A grey koala is sitting to the left of the penguins.",
                        jp: "ç°è‰²ã®ã‚³ã‚¢ãƒ©ãŒãƒšãƒ³ã‚®ãƒ³ã®å·¦å´ã«åº§ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["to the left of (ï½ã®å·¦å´ã«)", "grey (ç°è‰²ã®)"],
                        idioms: ["sit tight (ã˜ã£ã¨ã—ã¦ã„ã‚‹)"],
                        synonyms: ["beside (next to)"],
                        grammar: "ç›¸å¯¾çš„ãªä½ç½®é–¢ä¿‚ã‚’ç¤ºã™ 'to the left of' ãŒãƒã‚¤ãƒ³ãƒˆã§ã™ã€‚"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#3498db",
                        title: "Center: Sandwiched Penguins",
                        eng: "The penguin pair is sandwiched between the koala and the dog.",
                        jp: "ãƒšãƒ³ã‚®ãƒ³ã®ãƒšã‚¢ã¯ã€ã‚³ã‚¢ãƒ©ã¨çŠ¬ã®é–“ã«æŒŸã¾ã‚Œã¦ã„ã¾ã™ã€‚",
                        vocab: ["sandwiched (æŒŸã¾ã‚ŒãŸ)", "between (ï½ã®é–“)"],
                        idioms: ["caught in the middle (æ¿æŒŸã¿ã«ãªã‚‹)"],
                        synonyms: ["surrounded (enclosed)"],
                        grammar: "å—å‹•æ…‹ 'is sandwiched' ã‚’ä½¿ã„ã€æŒŸã¾ã‚Œã¦ã„ã‚‹çŠ¶æ…‹ã‚’å¼·èª¿ã—ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        top: "36%", left: "69%", width: "28%", height: "28%", color: "#f1c40f",
                        title: "Right: A Golden Retriever",
                        eng: "A happy-looking dog sits on the far right side of the middle row.",
                        jp: "å¹¸ã›ãã†ãªçŠ¬ãŒã€ä¸­æ®µã®å³ç«¯ã«åº§ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["middle row (ä¸­æ®µ)", "far right (å³ç«¯)"],
                        idioms: ["man's best friend (çŠ¬)"],
                        synonyms: ["canine (dog)"],
                        grammar: "è¤‡åˆå½¢å®¹è© 'happy-looking' ãŒåè© dog ã‚’ä¿®é£¾ã—ã¦ã„ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "003.png", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Top-Left: An Orange Tabby",
                        eng: "An orange tabby cat is sitting in the top-left compartment.",
                        jp: "ã‚ªãƒ¬ãƒ³ã‚¸è‰²ã®ãƒˆãƒ©çŒ«ãŒå·¦ä¸Šã®åŒºç”»ã«åº§ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["tabby (ãƒˆãƒ©çŒ«)", "compartment (ä»•åˆ‡ã‚Š)"],
                        idioms: ["cat nap (ã†ãŸãŸå¯)"],
                        synonyms: ["feline (cat)"],
                        grammar: "å ´æ‰€ã‚’ç‰¹å®šã™ã‚‹ 'top-left' ã¨ã„ã†è¡¨ç¾ã§ã™ã€‚"
                    },
                    {
                        top: "3%", left: "36%", width: "28%", height: "28%", color: "#2c3e50",
                        title: "Top-Center: A Zebra",
                        eng: "A zebra stands next to the cat in the top row.",
                        jp: "æœ€ä¸Šæ®µã§ã€ã‚·ãƒã‚¦ãƒãŒçŒ«ã®éš£ã«ç«‹ã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["top row (æœ€ä¸Šæ®µ)", "next to (ï½ã®éš£ã«)"],
                        idioms: ["change one's stripes (æ€§æ ¹ã‚’å¤‰ãˆã‚‹)"],
                        synonyms: ["adjacent (next to)"],
                        grammar: "å‹•è© 'stands' ã¨å ´æ‰€ 'next to' ã®çµ„ã¿åˆã‚ã›ã€‚"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#e74c3c",
                        title: "Bottom-Right: Diagonal Position",
                        eng: "The rabbit is placed in the bottom-right corner, far away from the others.",
                        jp: "ã‚¦ã‚µã‚®ã¯å³ä¸‹ã®éš…ã«é…ç½®ã•ã‚Œã€ä»–ã®å‹•ç‰©ã‹ã‚‰ã¯é›¢ã‚Œã¦ã„ã¾ã™ã€‚",
                        vocab: ["corner (éš…)", "far away (é ãé›¢ã‚Œã¦)"],
                        idioms: ["miles away (å¿ƒã“ã“ã«ã‚ã‚‰ãš)"],
                        synonyms: ["distant (far)"],
                        grammar: "å—å‹•æ…‹ 'is placed' ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "004.png", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#2c3e50",
                        title: "Start: Top-Left",
                        eng: "The zebra starts the diagonal line from the top-left corner.",
                        jp: "ã‚·ãƒã‚¦ãƒãŒå·¦ä¸Šã®éš…ã‹ã‚‰æ–œã‚ã®ãƒ©ã‚¤ãƒ³ã‚’å§‹ã‚ã¦ã„ã¾ã™ã€‚",
                        vocab: ["diagonal (æ–œã‚ã®)", "line (ç·š)"],
                        idioms: ["start off (å§‹ã‚ã‚‹)"],
                        synonyms: ["begin (start)"],
                        grammar: "èƒ½å‹•æ…‹ã® 'starts' ã‚’ä½¿ã„ã€ã‚·ãƒã‚¦ãƒãŒåˆ—ã®å§‹ç‚¹ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Middle: Center Spot",
                        eng: "The cat occupies the exact center of the grid.",
                        jp: "çŒ«ãŒã‚°ãƒªãƒƒãƒ‰ã®ã¡ã‚‡ã†ã©ä¸­å¿ƒã‚’å ã‚ã¦ã„ã¾ã™ã€‚",
                        vocab: ["occupy (å ã‚ã‚‹)", "exact (æ­£ç¢ºãª)", "grid (æ ¼å­)"],
                        idioms: ["dead center (ã©çœŸã‚“ä¸­)"],
                        synonyms: ["inhabit (occupy)"],
                        grammar: "å‹•è© 'occupy' ã¯ç©ºé–“ã‚„åœ°ä½ã‚’å ã‚ã‚‹éš›ã«ã‚ˆãä½¿ã‚ã‚Œã¾ã™ã€‚"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#e74c3c",
                        title: "End: Bottom-Right",
                        eng: "The rabbit completes the diagonal alignment in the bottom-right.",
                        jp: "ã‚¦ã‚µã‚®ãŒå³ä¸‹ã§æ–œã‚ã®é…ç½®ã‚’å®Œæˆã•ã›ã¦ã„ã¾ã™ã€‚",
                        vocab: ["complete (å®Œæˆã•ã›ã‚‹)", "alignment (æ•´åˆ—)"],
                        idioms: ["tie up loose ends (ä»•ä¸Šã’ã‚‹)"],
                        synonyms: ["finish (complete)"],
                        grammar: "ä¸»èª(Rabbit) + å‹•è©(completes) + ç›®çš„èª(alignment) ã§ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "005.png", 
                spots: [
                    {
                        top: "20%", left: "5%", width: "30%", height: "60%", color: "#c0392b",
                        title: "Two Bottles of Cola",
                        eng: "There are two identical bottles of zero-sugar cola on the left.",
                        jp: "å·¦å´ã«ã€ã‚¼ãƒ­ã‚·ãƒ¥ã‚¬ãƒ¼ã‚³ãƒ¼ãƒ©ã®å…¨ãåŒã˜ãƒœãƒˆãƒ«ãŒ2æœ¬ã‚ã‚Šã¾ã™ã€‚",
                        vocab: ["identical (å…¨ãåŒã˜)", "zero-sugar (ç„¡ç³–)"],
                        idioms: ["seeing double (äºŒé‡ã«è¦‹ãˆã‚‹)"],
                        synonyms: ["duplicate (copy)"],
                        grammar: "å­˜åœ¨ã‚’è¡¨ã™ 'There are' æ§‹æ–‡ã§ã™ã€‚"
                    },
                    {
                        top: "20%", left: "37%", width: "30%", height: "60%", color: "#27ae60",
                        title: "Tea Selection",
                        eng: "In the middle, we see a variety of teas: citrus green tea and milk tea.",
                        jp: "ä¸­å¤®ã«ã¯ã€ã‚·ãƒ¼ã‚¯ãƒ®ãƒ¼ã‚µãƒ¼ç·‘èŒ¶ã‚„ãƒŸãƒ«ã‚¯ãƒ†ã‚£ãƒ¼ãªã©ã€æ§˜ã€…ãªç´…èŒ¶ãŒè¦‹ã‚‰ã‚Œã¾ã™ã€‚",
                        vocab: ["variety (ç¨®é¡)", "citrus (æŸ‘æ©˜é¡)"],
                        idioms: ["cup of tea (å¥½ã¿)"],
                        synonyms: ["assortment (variety)"],
                        grammar: "åè©ã®åˆ—æŒ™ï¼ˆA and Bï¼‰ã‚’ä½¿ã£ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        top: "20%", left: "68%", width: "30%", height: "60%", color: "#2c3e50",
                        title: "Black Coffee",
                        eng: "Two bottles of black coffee are lined up on the right side.",
                        jp: "å³å´ã«ã¯ãƒ–ãƒ©ãƒƒã‚¯ã‚³ãƒ¼ãƒ’ãƒ¼ã®ãƒœãƒˆãƒ«ãŒ2æœ¬ä¸¦ã‚“ã§ã„ã¾ã™ã€‚",
                        vocab: ["line up (ä¸¦ã¶)", "black coffee (ãƒ–ãƒ©ãƒƒã‚¯)"],
                        idioms: ["wake up call (è­¦é˜/ç›®è¦šã‚)"],
                        synonyms: ["align (line up)"],
                        grammar: "å—å‹•æ…‹ 'are lined up' ã§ã€Œä¸¦ã¹ã‚‰ã‚Œã¦ã„ã‚‹ã€çŠ¶æ…‹ã‚’è¡¨ã—ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "006.png", 
                spots: [
                    {
                        top: "20%", left: "18%", width: "15%", height: "60%", color: "#3498db",
                        title: "Sports Drink",
                        eng: "The blue bottle is a sports drink, designed for hydration.",
                        jp: "é’ã„ãƒœãƒˆãƒ«ã¯ã‚¹ãƒãƒ¼ãƒ„ãƒ‰ãƒªãƒ³ã‚¯ã§ã€æ°´åˆ†è£œçµ¦ã®ãŸã‚ã«ä½œã‚‰ã‚Œã¦ã„ã¾ã™ã€‚",
                        vocab: ["hydration (æ°´åˆ†è£œçµ¦)", "design (è¨­è¨ˆã™ã‚‹)"],
                        idioms: ["quench one's thirst (æ¸‡ãã‚’ç™’ã‚„ã™)"],
                        synonyms: ["beverage (drink)"],
                        grammar: "éå»åˆ†è© 'designed' ãŒå½¢å®¹è©çš„ã«ä¿®é£¾ã—ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        top: "30%", left: "82%", width: "15%", height: "50%", color: "#f1c40f",
                        title: "Energy Drink",
                        eng: "The small red and yellow can on the far right is an energy drink.",
                        jp: "å³ç«¯ã«ã‚ã‚‹èµ¤ã¨é»„è‰²ã®å°ã•ãªç¼¶ã¯ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯ã§ã™ã€‚",
                        vocab: ["energy drink (ã‚¨ãƒŠã‚¸ãƒ¼ãƒ‰ãƒªãƒ³ã‚¯)", "can (ç¼¶)"],
                        idioms: ["boost of energy (å…ƒæ°—ãŒå‡ºã‚‹)"],
                        synonyms: ["stimulant (energy booster)"],
                        grammar: "é•·ã„ä¸»èª 'The...can' ã«å¯¾ã™ã‚‹å‹•è© 'is' ã§ã™ã€‚"
                    },
                    {
                        top: "75%", left: "5%", width: "90%", height: "15%", color: "#2ecc71",
                        title: "Price Tags",
                        eng: "The prices range from 140 yen to 180 yen.",
                        jp: "ä¾¡æ ¼ã¯140å††ã‹ã‚‰180å††ã®ç¯„å›²ã§ã™ã€‚",
                        vocab: ["range (ç¯„å›²ã«åŠã¶)", "price tag (å€¤æœ­)"],
                        idioms: ["bang for your buck (ã‚³ã‚¹ãƒ‘ãŒè‰¯ã„)"],
                        synonyms: ["cost (price)"],
                        grammar: "å‹•è© 'range' ã‚’ä½¿ã„ã€'from A to B' ã§ç¯„å›²ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "007.png",
                spots: [
                    {
                        top: "20%", left: "5%", width: "14%", height: "50%", color: "#2ecc71",
                        title: "Green Tea Bottle",
                        eng: "A bottle of authentic green tea sits on the far left, promising a rich and savory flavor.",
                        jp: "æœ¬æ ¼çš„ãªç·‘èŒ¶ã®ãƒœãƒˆãƒ«ãŒå·¦ç«¯ã«ã‚ã‚Šã€è±Šã‹ã§æ—¨ã¿ã®ã‚ã‚‹å‘³ã‚ã„ã‚’ç´„æŸã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["authentic (æœ¬æ ¼çš„ãª)", "savory (æ—¨ã¿ã®ã‚ã‚‹)", "promise (äºˆæ„Ÿã•ã›ã‚‹)"],
                        idioms: ["turn over a new leaf (å¿ƒæ©Ÿä¸€è»¢ã™ã‚‹)"],
                        synonyms: ["genuine (authentic)"],
                        grammar: "ç¾åœ¨åˆ†è©æ§‹æ–‡ 'promising...' ãŒã€ãƒœãƒˆãƒ«ã®è¦‹ãŸç›®ãŒã‚‚ãŸã‚‰ã™æœŸå¾…æ„Ÿã‚’èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚"
                    },
                    {
                        top: "20%", left: "37%", width: "14%", height: "50%", color: "#9b59b6",
                        title: "Royal Milk Tea",
                        eng: "The royal milk tea features a blue and white label, suggesting a creamy and elegant taste.",
                        jp: "ãƒ­ã‚¤ãƒ¤ãƒ«ãƒŸãƒ«ã‚¯ãƒ†ã‚£ãƒ¼ã¯é’ã¨ç™½ã®ãƒ©ãƒ™ãƒ«ãŒç‰¹å¾´ã§ã€ã‚¯ãƒªãƒ¼ãƒŸãƒ¼ã§ä¸Šå“ãªå‘³ã‚’é€£æƒ³ã•ã›ã¾ã™ã€‚",
                        vocab: ["feature (ç‰¹å¾´ã¨ã™ã‚‹)", "elegant (ä¸Šå“ãª)", "suggest (ç¤ºå”†ã™ã‚‹)"],
                        idioms: ["cream of the crop (æœ€é«˜å‚‘ä½œ)"],
                        synonyms: ["luxurious (elegant)"],
                        grammar: "å‹•è© 'features' ã¨ç¾åœ¨åˆ†è© 'suggesting' ã‚’çµ„ã¿åˆã‚ã›ãŸè¡¨ç¾ã§ã™ã€‚"
                    },
                    {
                        top: "32%", left: "83%", width: "12%", height: "35%", color: "#f1c40f",
                        title: "Golden Can Coffee",
                        eng: "A small golden can of sweetened coffee is located on the far right, priced the lowest at 120 yen.",
                        jp: "å³ç«¯ã«ã¯å¾®ç³–ã‚³ãƒ¼ãƒ’ãƒ¼ã®å°ã•ãªé‡‘ã®ç¼¶ãŒã‚ã‚Šã€120å††ã¨ã„ã†æœ€ã‚‚å®‰ã„ä¾¡æ ¼è¨­å®šã«ãªã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["sweetened (åŠ ç³–ã®)", "priced (ä¾¡æ ¼è¨­å®šã•ã‚ŒãŸ)", "lowest (æœ€ã‚‚ä½ã„)"],
                        idioms: ["good things come in small packages (è‰¯å“ã¯å°å‹)"],
                        synonyms: ["sugary (sweetened)"],
                        grammar: "éå»åˆ†è© 'priced' ãŒä¸»èªã®çŠ¶æ…‹ã‚’è£œè¶³èª¬æ˜ã—ã¦ã„ã¾ã™ã€‚"
                    }
                ]
            },
            {
                imageFile: "501.png",
                spots: [
                    {
                        top: "50%", left: "30%", width: "20%", height: "70%", color: "#e67e22",
                        title: "Boasting Ability",
                        eng: "The boy is confidently telling his friend that he can play the guitar very well.",
                        jp: "ç”·ã®å­ã¯å‹é”ã«ã€è‡ªåˆ†ã¯ã‚®ã‚¿ãƒ¼ã‚’ã¨ã¦ã‚‚ä¸Šæ‰‹ã«å¼¾ã‘ã‚‹ã¨è‡ªä¿¡æº€ã€…ã«è©±ã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["confidently (è‡ªä¿¡ã‚’æŒã£ã¦)", "boast (è‡ªæ…¢ã™ã‚‹)", "skill (æŠ€è¡“)"],
                        idioms: ["show off (è¦‹ã›ã³ã‚‰ã‹ã™)"],
                        synonyms: ["capable of", "able to"],
                        grammar: "Model 'can' expresses ability or capacity."
                    },
                    {
                        top: "50%", left: "70%", width: "20%", height: "70%", color: "#2980b9",
                        title: "Listening Friend",
                        eng: "The girl is listening to him, perhaps wondering if his story is actually true.",
                        jp: "å¥³ã®å­ã¯å½¼ã®è©±ã‚’èã„ã¦ã„ã¾ã™ãŒã€ãã®è©±ãŒæœ¬å½“ã«æœ¬å½“ãªã®ã‹ç–‘å•ã«æ€ã£ã¦ã„ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        vocab: ["wonder (ã€œã‹ãªã¨æ€ã†)", "actually (å®Ÿéš›ã«)", "doubt (ç–‘ã†)"],
                        idioms: ["listen to (ã€œã«è€³ã‚’å‚¾ã‘ã‚‹)"],
                        synonyms: ["hearing", "paying attention"],
                        grammar: "Present continuous tense for ongoing action."
                    },
                    {
                        top: "15%", left: "45%", width: "10%", height: "10%", color: "#f1c40f",
                        title: "Musical Topic",
                        eng: "A guitar icon appears in a speech bubble, showing exactly what they are discussing.",
                        jp: "ã‚®ã‚¿ãƒ¼ã®ã‚¢ã‚¤ã‚³ãƒ³ãŒå¹ãå‡ºã—ã«è¡¨ç¤ºã•ã‚Œã¦ãŠã‚Šã€å½¼ã‚‰ãŒã¾ã•ã«ä½•ã‚’è­°è«–ã—ã¦ã„ã‚‹ã‹ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["speech bubble (å¹ãå‡ºã—)", "discuss (è­°è«–ã™ã‚‹)", "appear (ç¾ã‚Œã‚‹)"],
                        idioms: ["topic of conversation (è©±é¡Œ)"],
                        synonyms: ["chatting about", "talking about"],
                        grammar: "Subject 'icon' + verb 'appears'."
                    }
                ]
            },
            {
                imageFile: "502.png",
                spots: [
                    {
                        top: "15%", left: "15%", width: "10%", height: "10%", color: "#f39c12",
                        title: "Intense Heat",
                        eng: "The sun is beating down on her, making it a very hot day for exercise.",
                        jp: "å¤ªé™½ãŒç…§ã‚Šã¤ã‘ã¦ãŠã‚Šã€é‹å‹•ã™ã‚‹ã«ã¯ã¨ã¦ã‚‚æš‘ã„æ—¥ã«ãªã£ã¦ã„ã¾ã™ã€‚",
                        vocab: ["beat down (ç…§ã‚Šã¤ã‘ã‚‹)", "intense (å¼·çƒˆãª)", "exercise (é‹å‹•)"],
                        idioms: ["scortching hot (ç„¼ã‘ã¤ãã‚ˆã†ã«æš‘ã„)"],
                        synonyms: ["sunny", "sweltering"],
                        grammar: "Cause and effect implied by the setting."
                    },
                    {
                        top: "60%", left: "25%", width: "10%", height: "10%", color: "#3498db",
                        title: "Recommendation",
                        eng: "Since she is sweating profusely, she should drink more water to stay hydrated.",
                        jp: "å½¼å¥³ã¯å¤§é‡ã«æ±—ã‚’ã‹ã„ã¦ã„ã‚‹ã®ã§ã€æ°´åˆ†è£œçµ¦ã®ãŸã‚ã«æ°´ã‚’ã‚‚ã£ã¨é£²ã‚€ã¹ãã§ã™ã€‚",
                        vocab: ["profusely (å¤§é‡ã«)", "hydrated (æ°´åˆ†è£œçµ¦ã•ã‚ŒãŸ)", "sweat (æ±—ã‚’ã‹ã)"],
                        idioms: ["stay hydrated (æ°´åˆ†ã‚’ä¿ã¤)"],
                        synonyms: ["ought to", "had better"],
                        grammar: "Modal 'should' is used for advice or recommendation."
                    },
                    {
                        top: "30%", left: "60%", width: "10%", height: "10%", color: "#e74c3c",
                        title: "Physical Effort",
                        eng: "She looks exhausted but continues to run along the track despite the heat.",
                        jp: "å½¼å¥³ã¯ç–²ã‚Œåˆ‡ã£ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ãŒã€æš‘ã•ã«ã‚‚ã‹ã‹ã‚ã‚‰ãšãƒˆãƒ©ãƒƒã‚¯ã‚’èµ°ã‚Šç¶šã‘ã¦ã„ã¾ã™ã€‚",
                        vocab: ["exhausted (ç–²ã‚Œåˆ‡ã£ãŸ)", "track (èµ°è·¯)", "despite (ã€œã«ã‚‚ã‹ã‹ã‚ã‚‰ãš)"],
                        idioms: ["push through (ã‚„ã‚ŠæŠœã)"],
                        synonyms: ["tired", "worn out"],
                        grammar: "Contrast with 'despite'."
                    }
                ]
            },
            {
                imageFile: "503.png",
                spots: [
                    {
                        top: "25%", left: "50%", width: "10%", height: "10%", color: "#95a5a6",
                        title: "Logical Deduction",
                        eng: "She is caught in a downpour without an umbrella, so she must be cold and wet.",
                        jp: "å½¼å¥³ã¯å‚˜ã‚’æŒãŸãšã«åœŸç ‚é™ã‚Šã«é­ã£ã¦ã—ã¾ã£ãŸã®ã§ã€å¯’ãã¦æ¿¡ã‚Œã¦ã„ã‚‹ã«é•ã„ã‚ã‚Šã¾ã›ã‚“ã€‚",
                        vocab: ["downpour (åœŸç ‚é™ã‚Š)", "caught (æ•ã¾ã‚‹/é­ã†)", "umbrella (å‚˜)"],
                        idioms: ["soaked to the bone (ãšã¶æ¿¡ã‚Œã«ãªã‚‹)"],
                        synonyms: ["freezing", "drenched"],
                        grammar: "Modal 'must' indicates strong probability or logical deduction."
                    },
                    {
                        top: "20%", left: "35%", width: "10%", height: "10%", color: "#e67e22",
                        title: "Distress",
                        eng: "She holds her hand to her head, looking stressed about the sudden bad weather.",
                        jp: "å½¼å¥³ã¯é ­ã«æ‰‹ã‚’å½“ã¦ã€çªç„¶ã®æ‚ªå¤©å€™ã«ã‚¹ãƒˆãƒ¬ã‚¹ã‚’æ„Ÿã˜ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚",
                        vocab: ["distress (è‹¦æ‚©)", "sudden (çªç„¶ã®)", "weather (å¤©æ°—)"],
                        idioms: ["stressed out (ã‚¹ãƒˆãƒ¬ã‚¹ãŒæºœã¾ã‚‹)"],
                        synonyms: ["upset", "worried"],
                        grammar: "Participle phrase 'looking stressed'."
                    },
                    {
                        top: "50%", left: "80%", width: "10%", height: "10%", color: "#2c3e50",
                        title: "Background Context",
                        eng: "A train passes in the background, suggesting she might be commuting to or from school.",
                        jp: "èƒŒæ™¯ã‚’é›»è»ŠãŒé€šéã—ã¦ãŠã‚Šã€å½¼å¥³ãŒé€šå­¦ä¸­ã‹å¸°å®…ä¸­ã§ã‚ã‚‹å¯èƒ½æ€§ã‚’ç¤ºå”†ã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["commute (é€šå­¦/é€šå‹¤ã™ã‚‹)", "suggest (ç¤ºå”†ã™ã‚‹)", "background (èƒŒæ™¯)"],
                        idioms: ["on the way (é€”ä¸­ã§)"],
                        synonyms: ["traveling", "going"],
                        grammar: "'Might be' indicates possibility."
                    }
                ]
            },
            {
                imageFile: "504.png",
                spots: [
                    {
                        top: "25%", left: "45%", width: "10%", height: "10%", color: "#e67e22",
                        title: "Future Possibility",
                        eng: "She is standing comfortably now, but she may sit down soon if a seat becomes available.",
                        jp: "å½¼å¥³ã¯ä»Šã¯å¿«é©ãã†ã«ç«‹ã£ã¦ã„ã¾ã™ãŒã€å¸­ãŒç©ºã‘ã°ã™ãã«åº§ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        vocab: ["available (åˆ©ç”¨å¯èƒ½ãª)", "comfortably (å¿«é©ã«)", "seat (åº§å¸­)"],
                        idioms: ["open up (ç©ºã/åˆ©ç”¨å¯èƒ½ã«ãªã‚‹)"],
                        synonyms: ["might", "could"],
                        grammar: "Modal 'may' expresses a future possibility."
                    },
                    {
                        top: "40%", left: "10%", width: "10%", height: "10%", color: "#7f8c8d",
                        title: "Surrounding Passengers",
                        eng: "An elderly man is sitting quietly to her left, gazing forward.",
                        jp: "å½¼å¥³ã®å·¦å´ã«ã¯å¹´é…ã®ç”·æ€§ãŒé™ã‹ã«åº§ã‚Šã€å‰ã‚’è¦‹ã¤ã‚ã¦ã„ã¾ã™ã€‚",
                        vocab: ["elderly (å¹´é…ã®)", "gaze (ã˜ã£ã¨è¦‹ã‚‹)", "quietly (é™ã‹ã«)"],
                        idioms: ["keep to oneself (ä»–äººã¨é–¢ã‚ã‚‰ãšã«ã„ã‚‹)"],
                        synonyms: ["senior", "old man"],
                        grammar: "Present participle 'gazing' describes the man."
                    },
                    {
                        top: "30%", left: "85%", width: "10%", height: "10%", color: "#27ae60",
                        title: "Public Transport",
                        eng: "The bus interior looks relatively full with various passengers traveling together.",
                        jp: "ãƒã‚¹ã®è»Šå†…ã¯æ¯”è¼ƒçš„æ··ã‚“ã§ãŠã‚Šã€æ§˜ã€…ãªä¹—å®¢ãŒä¸€ç·’ã«ç§»å‹•ã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["interior (å†…éƒ¨)", "relatively (æ¯”è¼ƒçš„)", "passenger (ä¹—å®¢)"],
                        idioms: ["rush hour (ãƒ©ãƒƒã‚·ãƒ¥ã‚¢ãƒ¯ãƒ¼)"],
                        synonyms: ["crowded", "occupied"],
                        grammar: "Subject 'interior' + linking verb 'looks'."
                    }
                ]
            },
            {
                imageFile: "505.png",
                spots: [
                    {
                        top: "55%", left: "38%", width: "10%", height: "10%", color: "#34495e",
                        title: "Distracted Walking",
                        eng: "She is staring at her smartphone while walking down the street.",
                        jp: "å½¼å¥³ã¯é€šã‚Šã‚’æ­©ããªãŒã‚‰ã€ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚’è¦‹ã¤ã‚ã¦ã„ã¾ã™ã€‚",
                        vocab: ["stare (ã˜ã£ã¨è¦‹ã‚‹)", "distracted (æ°—ãŒæ•£ã£ã¦ã„ã‚‹)", "smartphone (ã‚¹ãƒãƒ›)"],
                        idioms: ["glued to (ã€œã«é‡˜ä»˜ã‘ã«ãªã‚‹)"],
                        synonyms: ["looking at", "watching"],
                        grammar: "Conjunction 'while' connects two simultaneous actions."
                    },
                    {
                        top: "20%", left: "50%", width: "10%", height: "10%", color: "#c0392b",
                        title: "Strong Advice",
                        eng: "It is dangerous to not look ahead; she had better watch where she's going.",
                        jp: "å‰ã‚’è¦‹ãªã„ã®ã¯å±é™ºã§ã™ã€‚å½¼å¥³ã¯è‡ªåˆ†ã®è¡Œãå…ˆã«æ³¨æ„ã—ãŸã»ã†ãŒèº«ã®ãŸã‚ã§ã™ã€‚",
                        vocab: ["dangerous (å±é™ºãª)", "ahead (å‰æ–¹ã«)", "watch (æ³¨æ„ã™ã‚‹)"],
                        idioms: ["watch out (æ°—ã‚’ã¤ã‘ã‚‹)"],
                        synonyms: ["ought to", "should"],
                        grammar: "'Had better' implies a negative consequence if the advice is ignored."
                    },
                    {
                        top: "30%", left: "85%", width: "10%", height: "10%", color: "#f39c12",
                        title: "Obstacles",
                        eng: "There is a lamppost and a curb nearby that she might accidentally trip over.",
                        jp: "è¿‘ãã«è¡—ç¯ã‚„ç¸çŸ³ãŒã‚ã‚Šã€å½¼å¥³ã¯ã†ã£ã‹ã‚Šã¤ã¾ãšã„ã¦ã—ã¾ã†ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        vocab: ["obstacle (éšœå®³ç‰©)", "accidentally (ã†ã£ã‹ã‚Š)", "trip (ã¤ã¾ãšã)"],
                        idioms: ["run into (ã¶ã¤ã‹ã‚‹)"],
                        synonyms: ["hazard", "barrier"],
                        grammar: "Modal 'might' suggests a possible risk."
                    }
                ]
            },
            {
                imageFile: "506.png",
                spots: [
                    {
                        top: "20%", left: "50%", width: "10%", height: "10%", color: "#ecf0f1",
                        title: "Waiting Patiently",
                        eng: "The elderly woman is sitting alone on the bench and she may be waiting for someone.",
                        jp: "ãã®å¹´é…ã®å¥³æ€§ã¯ãƒ™ãƒ³ãƒã«ä¸€äººã§åº§ã£ã¦ãŠã‚Šã€èª°ã‹ã‚’å¾…ã£ã¦ã„ã‚‹ã®ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚",
                        vocab: ["patiently (æ ¹æ°—ã‚ˆã)", "alone (ä¸€äººã§)", "bench (ãƒ™ãƒ³ãƒ)"],
                        idioms: ["wait for (ã€œã‚’å¾…ã¤)"],
                        synonyms: ["expecting", "anticipating"],
                        grammar: "'May be waiting' is the continuous form of the modal, expressing possible ongoing action."
                    },
                    {
                        top: "50%", left: "50%", width: "10%", height: "10%", color: "#d35400",
                        title: "Peaceful Atmosphere",
                        eng: "She has a gentle smile on her face, suggesting she is enjoying the pleasant weather.",
                        jp: "å½¼å¥³ã¯ç©ã‚„ã‹ãªç¬‘ã¿ã‚’æµ®ã‹ã¹ã¦ãŠã‚Šã€å¿ƒåœ°ã‚ˆã„å¤©æ°—ã‚’æ¥½ã—ã‚“ã§ã„ã‚‹ã‚ˆã†ã§ã™ã€‚",
                        vocab: ["gentle (ç©ã‚„ã‹ãª)", "pleasant (å¿ƒåœ°ã‚ˆã„)", "atmosphere (é›°å›²æ°—)"],
                        idioms: ["wear a smile (ç¬‘ã¿ã‚’æµ®ã‹ã¹ã‚‹)"],
                        synonyms: ["calm", "serene"],
                        grammar: "Participle phrase 'suggesting...' explains the smile."
                    },
                    {
                        top: "10%", left: "10%", width: "10%", height: "10%", color: "#27ae60",
                        title: "Park Setting",
                        eng: "Green trees and a house in the background indicate a quiet residential park.",
                        jp: "èƒŒæ™¯ã®ç·‘ã®æœ¨ã€…ã¨å®¶ã¯ã€ã“ã“ãŒé™ã‹ãªä½å®…è¡—ã®å…¬åœ’ã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["residential (ä½å®…ã®)", "indicate (ç¤ºã™)", "background (èƒŒæ™¯)"],
                        idioms: ["peace and quiet (å¹³ç©)"],
                        synonyms: ["location", "scene"],
                        grammar: "Subject 'trees and house' takes plural verb 'indicate'."
                    }
                ]
            },
            {
                imageFile: "507.png",
                spots: [
                    {
                        top: "20%", left: "50%", width: "10%", height: "10%", color: "#2c3e50",
                        title: "Urgent Obligation",
                        eng: "He looks very serious because he has to get to school soon.",
                        jp: "å½¼ã¯ã‚‚ã†ã™ãå­¦æ ¡ã«ç€ã‹ãªã‘ã‚Œã°ãªã‚‰ãªã„ã®ã§ã€ã¨ã¦ã‚‚çœŸå‰£ãªè¡¨æƒ…ã‚’ã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["serious (çœŸå‰£ãª)", "urgent (ç·Šæ€¥ã®)", "obligation (ç¾©å‹™)"],
                        idioms: ["on time (æ™‚é–“é€šã‚Šã«)"],
                        synonyms: ["must", "needs to"],
                        grammar: "'Has to' expresses external obligation or necessity."
                    },
                    {
                        top: "60%", left: "40%", width: "10%", height: "10%", color: "#e74c3c",
                        title: "Rapid Movement",
                        eng: "He is leaning forward on his bike, pedaling hard to increase his speed.",
                        jp: "å½¼ã¯è‡ªè»¢è»Šã§å‰å‚¾å§¿å‹¢ã‚’å–ã‚Šã€ã‚¹ãƒ”ãƒ¼ãƒ‰ã‚’ä¸Šã’ã‚‹ãŸã‚ã«ä¸€ç”Ÿæ‡¸å‘½ãƒšãƒ€ãƒ«ã‚’æ¼•ã„ã§ã„ã¾ã™ã€‚",
                        vocab: ["lean (å‚¾ã)", "pedal (ãƒšãƒ€ãƒ«ã‚’æ¼•ã)", "increase (å¢—ã‚„ã™)"],
                        idioms: ["in a rush (æ€¥ã„ã§ã„ã‚‹)"],
                        synonyms: ["speeding", "racing"],
                        grammar: "Using 'to' infinitive (to increase) to show purpose."
                    },
                    {
                        top: "10%", left: "45%", width: "10%", height: "10%", color: "#95a5a6",
                        title: "Safety Gear",
                        eng: "Even though he is in a hurry, he is wearing a helmet for safety.",
                        jp: "å½¼ã¯æ€¥ã„ã§ã„ã¾ã™ãŒã€å®‰å…¨ã®ãŸã‚ã«ãƒ˜ãƒ«ãƒ¡ãƒƒãƒˆã‚’ç€ç”¨ã—ã¦ã„ã¾ã™ã€‚",
                        vocab: ["safety (å®‰å…¨)", "gear (è£…å‚™)", "helmet (ãƒ˜ãƒ«ãƒ¡ãƒƒãƒˆ)"],
                        idioms: ["better safe than sorry (è»¢ã°ã¬å…ˆã®æ–)"],
                        synonyms: ["protection", "security"],
                        grammar: "Conjunction 'even though' introduces a concession."
                    }
                ]
            },
            {
                imageFile: "508.png",
                spots: [
                    {
                        top: "50%", left: "30%", width: "10%", height: "10%", color: "#2980b9",
                        title: "Speculation on Activity",
                        eng: "She is reading a thick book and she could be working on a project.",
                        jp: "å½¼å¥³ã¯åˆ†åšã„æœ¬ã‚’èª­ã‚“ã§ãŠã‚Šã€ä½•ã‹ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å–ã‚Šçµ„ã‚“ã§ã„ã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ã€‚",
                        vocab: ["thick (åˆ†åšã„)", "project (èª²é¡Œ/è¨ˆç”»)", "speculation (æ¨æ¸¬)"],
                        idioms: ["work on (å–ã‚Šçµ„ã‚€)"],
                        synonyms: ["studying", "researching"],
                        grammar: "'Could be working' expresses a possibility about a current continuous action."
                    },
                    {
                        top: "25%", left: "45%", width: "10%", height: "10%", color: "#34495e",
                        title: "Focus",
                        eng: "She is wearing glasses and looks completely absorbed in her research.",
                        jp: "å½¼å¥³ã¯çœ¼é¡ã‚’ã‹ã‘ã¦ãŠã‚Šã€å®Œå…¨ã«ç ”ç©¶ã«æ²¡é ­ã—ã¦ã„ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã™ã€‚",
                        vocab: ["absorbed (æ²¡é ­ã—ãŸ)", "research (ç ”ç©¶)", "glasses (çœ¼é¡)"],
                        idioms: ["lost in thought (ç‰©æ€ã„ã«ãµã‘ã‚‹)"],
                        synonyms: ["focused", "engrossed"],
                        grammar: "Adjective 'absorbed' describes her state."
                    },
                    {
                        top: "30%", left: "85%", width: "10%", height: "10%", color: "#7f8c8d",
                        title: "Study Partner",
                        eng: "Another student is sitting behind her, also reading quietly.",
                        jp: "å½¼å¥³ã®å¾Œã‚ã«ã¯åˆ¥ã®ç”Ÿå¾’ãŒåº§ã£ã¦ãŠã‚Šã€åŒã˜ãé™ã‹ã«æœ¬ã‚’èª­ã‚“ã§ã„ã¾ã™ã€‚",
                        vocab: ["partner (ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼)", "quietly (é™ã‹ã«)", "behind (å¾Œã‚ã«)"],
                        idioms: ["hit the books (çŒ›å‹‰å¼·ã™ã‚‹)"],
                        synonyms: ["classmate", "peer"],
                        grammar: "Adverb 'also' adds information about the second subject."
                    }
                ]
            }
        ];

        // ============================================
        // â˜…Logic
        // ============================================

        function toggleMethod() {
            const box = document.getElementById('method-box');
            box.style.display = (box.style.display === 'block') ? 'none' : 'block';
        }

        window.onload = function() {
            renderCategory(0);
        };

        function renderCategory(hundredsDigit) {
            document.querySelectorAll('.genre-btn').forEach((btn, idx) => {
                if(idx === hundredsDigit) btn.classList.add('active');
                else btn.classList.remove('active');
            });

            const list = galleryData.filter(item => {
                const match = item.imageFile.match(/(\d+)/);
                const num = match ? parseInt(match[1], 10) : 0;
                return Math.floor(num / 100) === hundredsDigit;
            });

            const container = document.getElementById('gallery-list');
            container.innerHTML = '';

            if (list.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#999; padding:40px;">No images in this series yet.</p>';
                return;
            }

            list.forEach((data, index) => {
                const match = data.imageFile.match(/(\d+)/);
                const fileNum = match ? match[1] : "---";
                const cardID = `card-${index}`;

                const article = document.createElement('article');
                article.className = 'photo-card';
                
                article.innerHTML = `
                    <div class="card-header">
                        <span class="card-number">No. ${fileNum}</span>
                        <button class="toggle-frame-btn" onclick="toggleLocalFrames('${cardID}', this)">
                            Show Frames
                        </button>
                    </div>
                    <div class="image-wrapper" id="${cardID}-wrapper">
                        <img src="${data.imageFile}" class="main-image" alt="Gallery Image">
                    </div>
                    <div class="desc-box" id="${cardID}-desc">
                        <span class="desc-title">Title</span>
                        
                        <div class="eng-row">
                            <div class="eng-text"></div>
                            <button class="speak-btn main-speak" title="Read English">ğŸ”Š</button>
                        </div>

                        <div class="jp-text"></div>

                        <div class="learning-grid">
                            <div class="learn-item">
                                <h4>Vocabulary <button class="mini-speak-btn vocab-speak" title="Read Vocabulary">ğŸ”Š</button></h4>
                                <ul class="l-vocab"></ul>
                            </div>
                            <div class="learn-item">
                                <h4>Idioms <button class="mini-speak-btn idiom-speak" title="Read Idioms">ğŸ”Š</button></h4>
                                <ul class="l-idiom"></ul>
                            </div>
                            <div class="learn-item">
                                <h4>Synonyms <button class="mini-speak-btn synonym-speak" title="Read Synonyms">ğŸ”Š</button></h4>
                                <ul class="l-synonym"></ul>
                            </div>
                            <div class="learn-item">
                                <h4>Grammar</h4>
                                <div class="l-grammar" style="font-size:0.9rem; color:#444;"></div>
                            </div>
                        </div>
                    </div>
                `;

                const wrapper = article.querySelector('.image-wrapper');
                data.spots.forEach(spot => {
                    const div = document.createElement('div');
                    div.className = 'hotspot';
                    Object.assign(div.style, { 
                        top: spot.top, left: spot.left, 
                        width: spot.width, height: spot.height, 
                        borderColor: spot.color 
                    });
                    div.onclick = (e) => {
                        e.stopPropagation();
                        updateDescription(cardID, spot);
                    };
                    wrapper.appendChild(div);
                });

                container.appendChild(article);
            });
        }

        function toggleLocalFrames(cardID, btn) {
            const wrapper = document.getElementById(`${cardID}-wrapper`);
            const spots = wrapper.querySelectorAll('.hotspot');
            const descBox = document.getElementById(`${cardID}-desc`);

            let isHidden = (spots[0].style.display === 'none' || spots[0].style.display === '');
            spots.forEach(s => s.style.display = isHidden ? 'block' : 'none');

            if (isHidden) {
                btn.textContent = "Hide Frames";
                btn.classList.add('active');
            } else {
                btn.textContent = "Show Frames";
                btn.classList.remove('active');
                descBox.style.display = 'none';
            }
        }

        // éŸ³å£°åˆæˆé–¢æ•°
        function speakText(text) {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'en-US';
                utterance.rate = 1.0;
                speechSynthesis.speak(utterance);
            }
        }

        // ãƒ†ã‚­ã‚¹ãƒˆæ•´å½¢ï¼ˆæ—¥æœ¬èªé™¤å»ï¼‰
        function cleanText(textArray) {
            if (!textArray || textArray.length === 0) return "";
            // é…åˆ—å†…ã®å„æ–‡å­—åˆ—ã‹ã‚‰ (...) ã‚’å‰Šé™¤ã—ã€ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã§çµåˆ
            return textArray.map(item => item.replace(/\s*\(.*?\)/g, '')).join(", ");
        }

        function updateDescription(cardID, data) {
            const box = document.getElementById(`${cardID}-desc`);
            box.style.display = 'block';
            box.style.borderTopColor = data.color;

            // ã‚¿ã‚¤ãƒˆãƒ«ã¨æœ¬æ–‡
            const titleEl = box.querySelector('.desc-title');
            titleEl.textContent = data.title;
            titleEl.style.color = data.color;

            box.querySelector('.eng-text').textContent = data.eng;
            box.querySelector('.jp-text').textContent = data.jp;
            box.querySelector('.l-grammar').textContent = data.grammar || "";

            // ãƒªã‚¹ãƒˆç”Ÿæˆãƒ˜ãƒ«ãƒ‘ãƒ¼
            const fillList = (cls, items) => {
                const ul = box.querySelector(cls);
                ul.innerHTML = '';
                if(items && items.length > 0) {
                    items.forEach(txt => {
                        const li = document.createElement('li');
                        li.textContent = txt;
                        ul.appendChild(li);
                    });
                } else {
                    // ç©ºã®å ´åˆã¯ "None" ç­‰ã‚’è¡¨ç¤ºã—ã¦ã‚‚ã‚ˆã„ãŒä»Šå›ã¯ç©ºæ¬„
                }
            };
            fillList('.l-vocab', data.vocab);
            fillList('.l-idiom', data.idioms);
            fillList('.l-synonym', data.synonyms);

            // ------------------------------------------
            // â˜… å„ãƒœã‚¿ãƒ³ã«éŸ³å£°èª­ã¿ä¸Šã’ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨­å®š â˜…
            // ------------------------------------------
            
            // 1. Main English Button
            const mainBtn = box.querySelector('.main-speak');
            const newMainBtn = mainBtn.cloneNode(true); // ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚»ãƒƒãƒˆ
            mainBtn.parentNode.replaceChild(newMainBtn, mainBtn);
            newMainBtn.onclick = () => speakText(data.eng);

            // 2. Vocabulary Button
            const vocabBtn = box.querySelector('.vocab-speak');
            const newVocabBtn = vocabBtn.cloneNode(true);
            vocabBtn.parentNode.replaceChild(newVocabBtn, vocabBtn);
            // ãƒ‡ãƒ¼ã‚¿ãŒã‚ã‚Œã°èª­ã¿ä¸Šã’ã€ãªã‘ã‚Œã°ä½•ã‚‚ã—ãªã„
            if (data.vocab && data.vocab.length > 0) {
                newVocabBtn.style.display = 'inline-block';
                newVocabBtn.onclick = () => speakText(cleanText(data.vocab));
            } else {
                newVocabBtn.style.display = 'none';
            }

            // 3. Idioms Button
            const idiomBtn = box.querySelector('.idiom-speak');
            const newIdiomBtn = idiomBtn.cloneNode(true);
            idiomBtn.parentNode.replaceChild(newIdiomBtn, idiomBtn);
            if (data.idioms && data.idioms.length > 0) {
                newIdiomBtn.style.display = 'inline-block';
                newIdiomBtn.onclick = () => speakText(cleanText(data.idioms));
            } else {
                newIdiomBtn.style.display = 'none';
            }

            // 4. Synonyms Button
            const synonymBtn = box.querySelector('.synonym-speak');
            const newSynonymBtn = synonymBtn.cloneNode(true);
            synonymBtn.parentNode.replaceChild(newSynonymBtn, synonymBtn);
            if (data.synonyms && data.synonyms.length > 0) {
                newSynonymBtn.style.display = 'inline-block';
                newSynonymBtn.onclick = () => speakText(cleanText(data.synonyms));
            } else {
                newSynonymBtn.style.display = 'none';
            }
        }

    </script>
</body>

</html>
