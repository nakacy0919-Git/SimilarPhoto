<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Similar Photos Review</title>
    <style>
        /* =========================================
           Base Design
           ========================================= */
        body { 
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; 
            background: #f8f9fa; 
            color: #333; 
            margin: 0; 
            padding: 20px; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
        }

        /* --- Header Section (Left Image + Right Text) --- */
        header {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
            width: 100%;
            max-width: 800px;
            padding-bottom: 20px;
            border-bottom: 1px solid #ddd;
        }

        .title-image {
            height: 60px; /* 小さく設定 */
            width: auto;
            object-fit: contain;
        }

        h1 {
            font-size: 2rem;
            margin: 0;
            color: #2c3e50;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        /* --- Methodology Toggle --- */
        .method-toggle-container {
            width: 100%;
            max-width: 800px;
            text-align: right;
            margin-bottom: 10px;
        }
        .method-btn {
            background: none;
            border: none;
            color: #7f8c8d;
            cursor: pointer;
            font-size: 0.9rem;
            text-decoration: underline;
        }
        .methodology-box {
            display: none;
            background: #fff;
            padding: 20px;
            max-width: 800px;
            border-left: 4px solid #3498db;
            margin-bottom: 30px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            animation: fadeIn 0.3s ease;
        }
        @keyframes fadeIn { from{opacity:0;transform:translateY(-5px)} to{opacity:1;transform:translateY(0)} }

        /* --- Category Tabs --- */
        .genre-tabs {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
            margin-bottom: 30px;
            width: 100%;
            max-width: 800px;
        }
        .genre-btn {
            padding: 8px 16px;
            background: #fff;
            border: 1px solid #bdc3c7;
            border-radius: 20px;
            cursor: pointer;
            color: #7f8c8d;
            font-weight: bold;
            transition: 0.2s;
        }
        .genre-btn:hover { background: #ecf0f1; }
        .genre-btn.active {
            background: #2c3e50;
            color: #fff;
            border-color: #2c3e50;
        }

        /* --- Gallery List Area (Vertical Scroll) --- */
        #gallery-list {
            width: 100%;
            max-width: 800px;
            display: flex;
            flex-direction: column;
            gap: 40px; /* 画像ごとの間隔 */
        }

        /* --- Individual Photo Card --- */
        .photo-card {
            background: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            overflow: hidden;
            border: 1px solid #eee;
        }

        /* Card Header: No. & Button */
        .card-header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: #fdfdfd;
            border-bottom: 1px solid #eee;
        }
        .card-number {
            font-family: 'Courier New', monospace;
            font-weight: bold;
            font-size: 1.1rem;
            color: #2c3e50;
        }
        .toggle-frame-btn {
            padding: 6px 12px;
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.85rem;
            transition: 0.2s;
        }
        .toggle-frame-btn:hover { background: #219150; }
        .toggle-frame-btn.active { background: #e74c3c; } /* 押したときの色 */

        /* Image Area */
        .image-wrapper {
            position: relative;
            width: 100%;
            background: #ecf0f1;
        }
        .main-image {
            width: 100%;
            display: block;
        }

        /* Hotspots */
        .hotspot {
            position: absolute;
            cursor: pointer;
            border: 3px solid;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            display: none; /* デフォルト非表示 */
            transition: 0.2s;
        }
        .hotspot:hover {
            background: rgba(255,255,255,0.3);
            box-shadow: 0 0 10px rgba(255,255,255,0.8);
        }

        /* Description Box */
        .desc-box {
            padding: 25px;
            display: none;
            border-top: 2px solid #ddd;
            background: #fff;
        }
        .desc-title { font-size: 1.3rem; font-weight: bold; margin-bottom: 10px; display: block; }
        .eng-text { font-size: 1.1rem; margin-bottom: 5px; color: #222; }
        .jp-text { font-size: 0.9rem; color: #666; margin-bottom: 20px; padding-bottom: 15px; border-bottom: 1px dashed #ddd; }

        /* Learning Grid */
        .learning-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 600px) { .learning-grid { grid-template-columns: 1fr; } header { flex-direction: column; text-align: center; } h1 { font-size: 1.5rem; } }
        
        .learn-item h4 { margin: 0 0 5px 0; font-size: 0.8rem; color: #95a5a6; text-transform: uppercase; }
        .learn-item ul { margin: 0; padding-left: 20px; font-size: 0.9rem; }
        .learn-item li { margin-bottom: 3px; }

    </style>
</head>
<body>

    <header>
        <img src="title.png" alt="Icon" class="title-image">
        <h1>Similar Photos Review</h1>
    </header>

    <div class="method-toggle-container">
        <button class="method-btn" onclick="toggleMethod()">ⓘ About This Method</button>
    </div>
    <div id="method-box" class="methodology-box">
        <p style="margin:0; font-size:0.95rem; line-height:1.6; color:#555;">
            <strong>Why This Method Works:</strong><br>
            正確な描写力は、会話力の要です。「Similar Photos Review」は、見たものを正確に言語化し、相手に伝える力を養います。
            視覚情報と言語を結びつけるこのプロセスは、記憶に定着しやすく、実践的なコミュニケーション能力を高める非常に効果的な学習法です。
        </p>
    </div>

    <div class="genre-tabs">
        <button class="genre-btn active" onclick="renderCategory(0)">000 Series</button>
        <button class="genre-btn" onclick="renderCategory(1)">100 Series</button>
        <button class="genre-btn" onclick="renderCategory(2)">200 Series</button>
        <button class="genre-btn" onclick="renderCategory(3)">300 Series</button>
        <button class="genre-btn" onclick="renderCategory(4)">400 Series</button>
        <button class="genre-btn" onclick="renderCategory(5)">500 Series</button>
    </div>

    <div id="gallery-list">
        </div>

    <script>
        // ============================================
        // ★データエリア (ファイル名はすべて .png)
        // ============================================
        const galleryData = [
            {
                imageFile: "001.png", 
                spots: [
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#3498db",
                        title: "Center: A Pair of Penguins",
                        eng: "Two penguins are standing side by side in the central cubby.",
                        jp: "中央の小部屋に2羽のペンギンが並んで立っています。",
                        vocab: ["cubby (棚の区画)", "side by side (並んで)", "central (中央の)"],
                        idioms: ["stick together (一緒にいる)"],
                        synonyms: ["duo (pair)"],
                        grammar: "位置を表す前置詞 'in' と、状態を表す現在進行形 'are standing' の組み合わせです。"
                    },
                    {
                        top: "69%", left: "3%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Bottom-Left: A Solitary Rabbit",
                        eng: "A brown rabbit sits alone in the bottom-left section.",
                        jp: "茶色のウサギが左下の区画に一匹で座っています。",
                        vocab: ["solitary (単独の)", "section (区画)", "bottom-left (左下)"],
                        idioms: ["lone wolf (一匹狼)"],
                        synonyms: ["alone (solitary)"],
                        grammar: "場所を指す副詞句 'in the bottom-left section' が文末に来ています。"
                    }
                ]
            },
            {
                imageFile: "002.png", 
                spots: [
                    {
                        top: "36%", left: "3%", width: "28%", height: "28%", color: "#95a5a6",
                        title: "Left: A Koala",
                        eng: "A grey koala is sitting to the left of the penguins.",
                        jp: "灰色のコアラがペンギンの左側に座っています。",
                        vocab: ["to the left of (～の左側に)", "grey (灰色の)"],
                        idioms: ["sit tight (じっとしている)"],
                        synonyms: ["beside (next to)"],
                        grammar: "相対的な位置関係を示す 'to the left of' がポイントです。"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#3498db",
                        title: "Center: Sandwiched Penguins",
                        eng: "The penguin pair is sandwiched between the koala and the dog.",
                        jp: "ペンギンのペアは、コアラと犬の間に挟まれています。",
                        vocab: ["sandwiched (挟まれた)", "between (～の間)"],
                        idioms: ["caught in the middle (板挟みになる)"],
                        synonyms: ["surrounded (enclosed)"],
                        grammar: "受動態 'is sandwiched' を使い、挟まれている状態を強調しています。"
                    },
                    {
                        top: "36%", left: "69%", width: "28%", height: "28%", color: "#f1c40f",
                        title: "Right: A Golden Retriever",
                        eng: "A happy-looking dog sits on the far right side of the middle row.",
                        jp: "幸せそうな犬が、中段の右端に座っています。",
                        vocab: ["middle row (中段)", "far right (右端)"],
                        idioms: ["man's best friend (犬)"],
                        synonyms: ["canine (dog)"],
                        grammar: "複合形容詞 'happy-looking' が名詞 dog を修飾しています。"
                    }
                ]
            },
            {
                imageFile: "003.png", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Top-Left: An Orange Tabby",
                        eng: "An orange tabby cat is sitting in the top-left compartment.",
                        jp: "オレンジ色のトラ猫が左上の区画に座っています。",
                        vocab: ["tabby (トラ猫)", "compartment (仕切り)"],
                        idioms: ["cat nap (うたた寝)"],
                        synonyms: ["feline (cat)"],
                        grammar: "場所を特定する 'top-left' という表現です。"
                    },
                    {
                        top: "3%", left: "36%", width: "28%", height: "28%", color: "#2c3e50",
                        title: "Top-Center: A Zebra",
                        eng: "A zebra stands next to the cat in the top row.",
                        jp: "最上段で、シマウマが猫の隣に立っています。",
                        vocab: ["top row (最上段)", "next to (～の隣に)"],
                        idioms: ["change one's stripes (性根を変える)"],
                        synonyms: ["adjacent (next to)"],
                        grammar: "動詞 'stands' と場所 'next to' の組み合わせ。"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#e74c3c",
                        title: "Bottom-Right: Diagonal Position",
                        eng: "The rabbit is placed in the bottom-right corner, far away from the others.",
                        jp: "ウサギは右下の隅に配置され、他の動物からは離れています。",
                        vocab: ["corner (隅)", "far away (遠く離れて)"],
                        idioms: ["miles away (心ここにあらず)"],
                        synonyms: ["distant (far)"],
                        grammar: "受動態 'is placed' が使われています。"
                    }
                ]
            },
            {
                imageFile: "004.png", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#2c3e50",
                        title: "Start: Top-Left",
                        eng: "The zebra starts the diagonal line from the top-left corner.",
                        jp: "シマウマが左上の隅から斜めのラインを始めています。",
                        vocab: ["diagonal (斜めの)", "line (線)"],
                        idioms: ["start off (始める)"],
                        synonyms: ["begin (start)"],
                        grammar: "能動態の 'starts' を使い、シマウマが列の始点であることを示しています。"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#e67e22",
                        title: "Middle: Center Spot",
                        eng: "The cat occupies the exact center of the grid.",
                        jp: "猫がグリッドのちょうど中心を占めています。",
                        vocab: ["occupy (占める)", "exact (正確な)", "grid (格子)"],
                        idioms: ["dead center (ど真ん中)"],
                        synonyms: ["inhabit (occupy)"],
                        grammar: "動詞 'occupy' は空間や地位を占める際によく使われます。"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#e74c3c",
                        title: "End: Bottom-Right",
                        eng: "The rabbit completes the diagonal alignment in the bottom-right.",
                        jp: "ウサギが右下で斜めの配置を完成させています。",
                        vocab: ["complete (完成させる)", "alignment (整列)"],
                        idioms: ["tie up loose ends (仕上げる)"],
                        synonyms: ["finish (complete)"],
                        grammar: "主語(Rabbit) + 動詞(completes) + 目的語(alignment) です。"
                    }
                ]
            },
            {
                imageFile: "005.png", 
                spots: [
                    {
                        top: "20%", left: "5%", width: "30%", height: "60%", color: "#c0392b",
                        title: "Two Bottles of Cola",
                        eng: "There are two identical bottles of zero-sugar cola on the left.",
                        jp: "左側に、ゼロシュガーコーラの全く同じボトルが2本あります。",
                        vocab: ["identical (全く同じ)", "zero-sugar (無糖)"],
                        idioms: ["seeing double (二重に見える)"],
                        synonyms: ["duplicate (copy)"],
                        grammar: "存在を表す 'There are' 構文です。"
                    },
                    {
                        top: "20%", left: "37%", width: "30%", height: "60%", color: "#27ae60",
                        title: "Tea Selection",
                        eng: "In the middle, we see a variety of teas: citrus green tea and milk tea.",
                        jp: "中央には、シークヮーサー緑茶やミルクティーなど、様々な紅茶が見られます。",
                        vocab: ["variety (種類)", "citrus (柑橘類)"],
                        idioms: ["cup of tea (好み)"],
                        synonyms: ["assortment (variety)"],
                        grammar: "名詞の列挙（A and B）を使っています。"
                    },
                    {
                        top: "20%", left: "68%", width: "30%", height: "60%", color: "#2c3e50",
                        title: "Black Coffee",
                        eng: "Two bottles of black coffee are lined up on the right side.",
                        jp: "右側にはブラックコーヒーのボトルが2本並んでいます。",
                        vocab: ["line up (並ぶ)", "black coffee (ブラック)"],
                        idioms: ["wake up call (警鐘/目覚め)"],
                        synonyms: ["align (line up)"],
                        grammar: "受動態 'are lined up' で「並べられている」状態を表します。"
                    }
                ]
            },
            {
                imageFile: "006.png", 
                spots: [
                    {
                        top: "20%", left: "18%", width: "15%", height: "60%", color: "#3498db",
                        title: "Sports Drink",
                        eng: "The blue bottle is a sports drink, designed for hydration.",
                        jp: "青いボトルはスポーツドリンクで、水分補給のために作られています。",
                        vocab: ["hydration (水分補給)", "design (設計する)"],
                        idioms: ["quench one's thirst (渇きを癒やす)"],
                        synonyms: ["beverage (drink)"],
                        grammar: "過去分詞 'designed' が形容詞的に修飾しています。"
                    },
                    {
                        top: "30%", left: "82%", width: "15%", height: "50%", color: "#f1c40f",
                        title: "Energy Drink",
                        eng: "The small red and yellow can on the far right is an energy drink.",
                        jp: "右端にある赤と黄色の小さな缶はエナジードリンクです。",
                        vocab: ["energy drink (エナジードリンク)", "can (缶)"],
                        idioms: ["boost of energy (元気が出る)"],
                        synonyms: ["stimulant (energy booster)"],
                        grammar: "長い主語 'The...can' に対する動詞 'is' です。"
                    },
                    {
                        top: "75%", left: "5%", width: "90%", height: "15%", color: "#2ecc71",
                        title: "Price Tags",
                        eng: "The prices range from 140 yen to 180 yen.",
                        jp: "価格は140円から180円の範囲です。",
                        vocab: ["range (範囲に及ぶ)", "price tag (値札)"],
                        idioms: ["bang for your buck (コスパが良い)"],
                        synonyms: ["cost (price)"],
                        grammar: "動詞 'range' を使い、'from A to B' で範囲を示しています。"
                    }
                ]
            }
        ];

        // ============================================
        // ★システムロジック
        // ============================================

        // 説明文の表示切り替え
        function toggleMethod() {
            const box = document.getElementById('method-box');
            box.style.display = (box.style.display === 'block') ? 'none' : 'block';
        }

        // 初期表示
        window.onload = function() {
            renderCategory(0);
        };

        // カテゴリーレンダリング（縦スクロールリスト生成）
        function renderCategory(hundredsDigit) {
            // ボタンのアクティブ化
            document.querySelectorAll('.genre-btn').forEach((btn, idx) => {
                if(idx === hundredsDigit) btn.classList.add('active');
                else btn.classList.remove('active');
            });

            // データフィルタリング
            const list = galleryData.filter(item => {
                const match = item.imageFile.match(/(\d+)/);
                const num = match ? parseInt(match[1], 10) : 0;
                return Math.floor(num / 100) === hundredsDigit;
            });

            const container = document.getElementById('gallery-list');
            container.innerHTML = ''; // リセット

            if (list.length === 0) {
                container.innerHTML = '<p style="text-align:center; color:#999; padding:40px;">No images in this series yet.</p>';
                return;
            }

            // カード生成ループ
            list.forEach((data, index) => {
                const match = data.imageFile.match(/(\d+)/);
                const fileNum = match ? match[1] : "---";
                const cardID = `card-${index}`;

                // カード作成
                const article = document.createElement('article');
                article.className = 'photo-card';
                article.innerHTML = `
                    <div class="card-header">
                        <span class="card-number">No. ${fileNum}</span>
                        <button class="toggle-frame-btn" onclick="toggleLocalFrames('${cardID}', this)">
                            Show Frames
                        </button>
                    </div>
                    <div class="image-wrapper" id="${cardID}-wrapper">
                        <img src="${data.imageFile}" class="main-image">
                        </div>
                    <div class="desc-box" id="${cardID}-desc">
                        <span class="desc-title">Title</span>
                        <div class="eng-text">English...</div>
                        <div class="jp-text">Japanese...</div>
                        <div class="learning-grid">
                            <div class="learn-item"><h4>Vocabulary</h4><ul class="l-vocab"></ul></div>
                            <div class="learn-item"><h4>Idioms</h4><ul class="l-idiom"></ul></div>
                            <div class="learn-item"><h4>Synonyms</h4><ul class="l-synonym"></ul></div>
                            <div class="learn-item"><h4>Grammar</h4><div class="l-grammar" style="font-size:0.9rem; color:#444;"></div></div>
                        </div>
                    </div>
                `;

                // ホットスポット追加
                const wrapper = article.querySelector('.image-wrapper');
                data.spots.forEach(spot => {
                    const div = document.createElement('div');
                    div.className = 'hotspot';
                    Object.assign(div.style, { 
                        top: spot.top, left: spot.left, 
                        width: spot.width, height: spot.height, 
                        borderColor: spot.color 
                    });
                    
                    // クリックイベント
                    div.onclick = (e) => {
                        e.stopPropagation();
                        updateDescription(cardID, spot);
                    };
                    wrapper.appendChild(div);
                });

                container.appendChild(article);
            });
        }

        // 個別カードの枠表示切り替え
        function toggleLocalFrames(cardID, btn) {
            const wrapper = document.getElementById(`${cardID}-wrapper`);
            const spots = wrapper.querySelectorAll('.hotspot');
            const descBox = document.getElementById(`${cardID}-desc`);

            let isHidden = (spots[0].style.display === 'none' || spots[0].style.display === '');

            spots.forEach(s => s.style.display = isHidden ? 'block' : 'none');

            if (isHidden) {
                btn.textContent = "Hide Frames";
                btn.classList.add('active');
            } else {
                btn.textContent = "Show Frames";
                btn.classList.remove('active');
                descBox.style.display = 'none'; // 説明も隠す
            }
        }

        // 個別カードの説明更新
        function updateDescription(cardID, data) {
            const box = document.getElementById(`${cardID}-desc`);
            box.style.display = 'block';
            box.style.borderTopColor = data.color;

            box.querySelector('.desc-title').textContent = data.title;
            box.querySelector('.desc-title').style.color = data.color;
            box.querySelector('.eng-text').textContent = data.eng;
            box.querySelector('.jp-text').textContent = data.jp;
            box.querySelector('.l-grammar').textContent = data.grammar || "";

            // リスト作成ヘルパー
            const fillList = (cls, items) => {
                const ul = box.querySelector(cls);
                ul.innerHTML = '';
                if(items && items.length > 0) {
                    items.forEach(txt => {
                        const li = document.createElement('li');
                        li.textContent = txt;
                        ul.appendChild(li);
                    });
                }
            };
            fillList('.l-vocab', data.vocab);
            fillList('.l-idiom', data.idioms);
            fillList('.l-synonym', data.synonyms);
        }

    </script>
</body>
</html>