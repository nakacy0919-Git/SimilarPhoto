<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Similar Photo Review</title>
    <style>
        /* =========================================
           NY Style Design System
           ========================================= */
        :root {
            --bg-color: #f8f9fa;
            --card-bg: #ffffff;
            --text-main: #212529;
            --text-sub: #6c757d;
            --accent-color: #000000; /* NY Style Black */
            --highlight: #e9ecef;
        }

        body {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-main);
            margin: 0;
            padding: 0;
            line-height: 1.6;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* --- Header Section --- */
        header {
            width: 100%;
            max-width: 800px;
            padding: 40px 20px 20px;
            text-align: center;
        }

        .title-image {
            max-width: 100%;
            height: auto;
            max-height: 150px; /* タイトル画像の高さ制限 */
            display: block;
            margin: 0 auto 20px;
            object-fit: contain;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 700;
            letter-spacing: -0.5px;
            margin-bottom: 10px;
            text-transform: uppercase;
        }

        /* --- Educational Rationale (Methodology) --- */
        .methodology-box {
            background: #fff;
            border-left: 5px solid var(--accent-color);
            padding: 20px 30px;
            margin-bottom: 50px;
            max-width: 760px;
            width: 90%;
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        }

        .methodology-title {
            font-size: 0.9rem;
            font-weight: bold;
            color: var(--text-sub);
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
            display: block;
        }

        .methodology-text {
            font-size: 0.95rem;
            color: #444;
            margin: 0;
        }

        /* --- Gallery Layout (Vertical Scroll) --- */
        .gallery-container {
            width: 100%;
            max-width: 800px;
            padding: 0 20px 60px;
        }

        /* Individual Card */
        .photo-card {
            background: var(--card-bg);
            border: 1px solid #e0e0e0;
            margin-bottom: 60px; /* カード間の余白 */
            border-radius: 0; /* NYスタイルらしく角をシャープに */
            overflow: hidden;
            box-shadow: 0 10px 20px rgba(0,0,0,0.03);
            transition: transform 0.3s ease;
        }

        .photo-card:hover {
            box-shadow: 0 15px 30px rgba(0,0,0,0.08);
        }

        /* Card Header (No. & Button) */
        .card-header {
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid #f0f0f0;
            background: #fff;
        }

        .image-number {
            font-size: 1.2rem;
            font-weight: 800;
            color: var(--accent-color);
            font-family: 'Courier New', Courier, monospace; /* 少しタイプライター風に */
        }

        /* Toggle Button */
        .toggle-btn {
            background: transparent;
            border: 1px solid var(--accent-color);
            color: var(--accent-color);
            padding: 6px 16px;
            font-size: 0.85rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .toggle-btn:hover {
            background: var(--accent-color);
            color: #fff;
        }

        .toggle-btn.active-btn {
            background: var(--accent-color);
            color: #fff;
        }

        /* Image Area */
        .image-area {
            position: relative;
            width: 100%;
            background: #eee;
        }

        .main-image {
            width: 100%;
            display: block;
            height: auto;
        }

        /* Hotspots */
        .hotspot {
            position: absolute;
            cursor: pointer;
            border: 3px solid; 
            background: rgba(255,255,255,0.1);
            transition: 0.3s;
            display: none; /* デフォルト非表示 */
            box-sizing: border-box;
        }
        .hotspot:hover {
            background: rgba(255,255,255,0.2);
            box-shadow: 0 0 15px rgba(255,255,255,0.9);
        }

        /* Description Box (Inside Card) */
        .desc-box {
            padding: 30px;
            background: #fff;
            display: none; /* クリックされるまで非表示 */
            border-top: 2px solid #000;
            animation: fadeIn 0.3s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .desc-title {
            font-size: 1.4rem;
            font-weight: 800;
            margin-bottom: 15px;
            display: block;
        }

        .eng-text {
            font-size: 1.15rem;
            margin-bottom: 8px;
            color: #000;
            font-weight: 500;
        }

        .jp-text {
            font-size: 0.9rem;
            color: #777;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        /* Learning Grid */
        .learning-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        @media (max-width: 600px) {
            .learning-grid { grid-template-columns: 1fr; }
            h1 { font-size: 1.8rem; }
        }

        .learn-item h4 {
            margin: 0 0 8px 0;
            font-size: 0.75rem;
            text-transform: uppercase;
            color: #999;
            letter-spacing: 1.5px;
        }

        .learn-item ul {
            margin: 0;
            padding-left: 18px;
            font-size: 0.9rem;
            color: #444;
        }
        
        .learn-item li { margin-bottom: 4px; }

        /* Footer */
        footer {
            margin-top: auto;
            padding: 20px;
            color: #999;
            font-size: 0.8rem;
            text-align: center;
        }

    </style>
</head>
<body>

    <header>
        <img src="title.png" alt="Similar Photo Review" class="title-image">
        <h1 style="display:none;">Similar Photo Review</h1>
        
        <div class="methodology-box">
            <span class="methodology-title">Why This Method Works</span>
            <p class="methodology-text">
                正確な描写力は、会話力の要です。「Similar Photo」は、見たものを正確に言語化し、相手に伝える力を養います。
                視覚情報と言語を結びつけるこのプロセスは、記憶に定着しやすく、実践的なコミュニケーション能力を高める非常に効果的な学習法です。
                <br><br>
                <small style="color:#777">※ Accurate image description is key to fluency. This visual-verbal connection enhances memory retention.</small>
            </p>
        </div>
    </header>

    <div class="gallery-container" id="gallery-root">
        </div>

    <footer>
        &copy; 2026 Similar Photo Review Project. Designed for Active Learners.
    </footer>

    <script>
        // ============================================
        // ★教材データエリア
        // ============================================
        const galleryData = [
            {
                imageFile: "001.jpg", 
                spots: [
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#000",
                        title: "Center: A Pair of Penguins",
                        eng: "Two penguins are standing side by side in the central cubby.",
                        jp: "中央の小部屋に2羽のペンギンが並んで立っています。",
                        vocab: ["cubby (棚の区画)", "side by side (並んで)", "central (中央の)"],
                        idioms: ["stick together (一緒にいる)"],
                        synonyms: ["duo (pair)"],
                        grammar: "位置を表す前置詞 'in' と、状態を表す現在進行形 'are standing' の組み合わせです。"
                    },
                    {
                        top: "69%", left: "3%", width: "28%", height: "28%", color: "#000",
                        title: "Bottom-Left: A Solitary Rabbit",
                        eng: "A brown rabbit sits alone in the bottom-left section.",
                        jp: "茶色のウサギが左下の区画に一匹で座っています。",
                        vocab: ["solitary (単独の)", "section (区画)", "bottom-left (左下)"],
                        idioms: ["lone wolf (一匹狼)"],
                        synonyms: ["alone (solitary)"],
                        grammar: "場所を指す副詞句 'in the bottom-left section' が文末に来ています。"
                    }
                ]
            },
            {
                imageFile: "002.jpg", 
                spots: [
                    {
                        top: "36%", left: "3%", width: "28%", height: "28%", color: "#000",
                        title: "Left: A Koala",
                        eng: "A grey koala is sitting to the left of the penguins.",
                        jp: "灰色のコアラがペンギンの左側に座っています。",
                        vocab: ["to the left of (～の左側に)", "grey (灰色の)"],
                        idioms: ["sit tight (じっとしている)"],
                        synonyms: ["beside (next to)"],
                        grammar: "相対的な位置関係を示す 'to the left of' がポイントです。"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#000",
                        title: "Center: Sandwiched Penguins",
                        eng: "The penguin pair is sandwiched between the koala and the dog.",
                        jp: "ペンギンのペアは、コアラと犬の間に挟まれています。",
                        vocab: ["sandwiched (挟まれた)", "between (～の間)"],
                        idioms: ["caught in the middle (板挟みになる)"],
                        synonyms: ["surrounded (enclosed)"],
                        grammar: "受動態 'is sandwiched' を使い、挟まれている状態を強調しています。"
                    },
                    {
                        top: "36%", left: "69%", width: "28%", height: "28%", color: "#000",
                        title: "Right: A Golden Retriever",
                        eng: "A happy-looking dog sits on the far right side of the middle row.",
                        jp: "幸せそうな犬が、中段の右端に座っています。",
                        vocab: ["middle row (中段)", "far right (右端)"],
                        idioms: ["man's best friend (犬)"],
                        synonyms: ["canine (dog)"],
                        grammar: "複合形容詞 'happy-looking' が名詞 dog を修飾しています。"
                    }
                ]
            },
            {
                imageFile: "003.jpg", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#000",
                        title: "Top-Left: An Orange Tabby",
                        eng: "An orange tabby cat is sitting in the top-left compartment.",
                        jp: "オレンジ色のトラ猫が左上の区画に座っています。",
                        vocab: ["tabby (トラ猫)", "compartment (仕切り)"],
                        idioms: ["cat nap (うたた寝)"],
                        synonyms: ["feline (cat)"],
                        grammar: "場所を特定する 'top-left' という表現です。"
                    },
                    {
                        top: "3%", left: "36%", width: "28%", height: "28%", color: "#000",
                        title: "Top-Center: A Zebra",
                        eng: "A zebra stands next to the cat in the top row.",
                        jp: "最上段で、シマウマが猫の隣に立っています。",
                        vocab: ["top row (最上段)", "next to (～の隣に)"],
                        idioms: ["change one's stripes (性根を変える)"],
                        synonyms: ["adjacent (next to)"],
                        grammar: "動詞 'stands' と場所 'next to' の組み合わせ。"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#000",
                        title: "Bottom-Right: Diagonal Position",
                        eng: "The rabbit is placed in the bottom-right corner, far away from the others.",
                        jp: "ウサギは右下の隅に配置され、他の動物からは離れています。",
                        vocab: ["corner (隅)", "far away (遠く離れて)"],
                        idioms: ["miles away (心ここにあらず)"],
                        synonyms: ["distant (far)"],
                        grammar: "受動態 'is placed' が使われています。"
                    }
                ]
            },
            {
                imageFile: "004.jpg", 
                spots: [
                    {
                        top: "3%", left: "3%", width: "28%", height: "28%", color: "#000",
                        title: "Start: Top-Left",
                        eng: "The zebra starts the diagonal line from the top-left corner.",
                        jp: "シマウマが左上の隅から斜めのラインを始めています。",
                        vocab: ["diagonal (斜めの)", "line (線)"],
                        idioms: ["start off (始める)"],
                        synonyms: ["begin (start)"],
                        grammar: "能動態の 'starts' を使い、シマウマが列の始点であることを示しています。"
                    },
                    {
                        top: "36%", left: "36%", width: "28%", height: "28%", color: "#000",
                        title: "Middle: Center Spot",
                        eng: "The cat occupies the exact center of the grid.",
                        jp: "猫がグリッドのちょうど中心を占めています。",
                        vocab: ["occupy (占める)", "exact (正確な)", "grid (格子)"],
                        idioms: ["dead center (ど真ん中)"],
                        synonyms: ["inhabit (occupy)"],
                        grammar: "動詞 'occupy' は空間や地位を占める際によく使われます。"
                    },
                    {
                        top: "69%", left: "69%", width: "28%", height: "28%", color: "#000",
                        title: "End: Bottom-Right",
                        eng: "The rabbit completes the diagonal alignment in the bottom-right.",
                        jp: "ウサギが右下で斜めの配置を完成させています。",
                        vocab: ["complete (完成させる)", "alignment (整列)"],
                        idioms: ["tie up loose ends (仕上げる)"],
                        synonyms: ["finish (complete)"],
                        grammar: "主語(Rabbit) + 動詞(completes) + 目的語(alignment) です。"
                    }
                ]
            },
            {
                imageFile: "005.jpg", 
                spots: [
                    {
                        top: "20%", left: "5%", width: "30%", height: "60%", color: "#000",
                        title: "Two Bottles of Cola",
                        eng: "There are two identical bottles of zero-sugar cola on the left.",
                        jp: "左側に、ゼロシュガーコーラの全く同じボトルが2本あります。",
                        vocab: ["identical (全く同じ)", "zero-sugar (無糖)"],
                        idioms: ["seeing double (二重に見える)"],
                        synonyms: ["duplicate (copy)"],
                        grammar: "存在を表す 'There are' 構文です。"
                    },
                    {
                        top: "20%", left: "37%", width: "30%", height: "60%", color: "#000",
                        title: "Tea Selection",
                        eng: "In the middle, we see a variety of teas: citrus green tea and milk tea.",
                        jp: "中央には、シークヮーサー緑茶やミルクティーなど、様々な紅茶が見られます。",
                        vocab: ["variety (種類)", "citrus (柑橘類)"],
                        idioms: ["cup of tea (好み)"],
                        synonyms: ["assortment (variety)"],
                        grammar: "名詞の列挙（A and B）を使っています。"
                    },
                    {
                        top: "20%", left: "68%", width: "30%", height: "60%", color: "#000",
                        title: "Black Coffee",
                        eng: "Two bottles of black coffee are lined up on the right side.",
                        jp: "右側にはブラックコーヒーのボトルが2本並んでいます。",
                        vocab: ["line up (並ぶ)", "black coffee (ブラック)"],
                        idioms: ["wake up call (警鐘/目覚め)"],
                        synonyms: ["align (line up)"],
                        grammar: "受動態 'are lined up' で「並べられている」状態を表します。"
                    }
                ]
            },
            {
                imageFile: "006.jpg", 
                spots: [
                    {
                        top: "20%", left: "18%", width: "15%", height: "60%", color: "#000",
                        title: "Sports Drink",
                        eng: "The blue bottle is a sports drink, designed for hydration.",
                        jp: "青いボトルはスポーツドリンクで、水分補給のために作られています。",
                        vocab: ["hydration (水分補給)", "design (設計する)"],
                        idioms: ["quench one's thirst (渇きを癒やす)"],
                        synonyms: ["beverage (drink)"],
                        grammar: "過去分詞 'designed' が形容詞的に修飾しています。"
                    },
                    {
                        top: "30%", left: "82%", width: "15%", height: "50%", color: "#000",
                        title: "Energy Drink",
                        eng: "The small red and yellow can on the far right is an energy drink.",
                        jp: "右端にある赤と黄色の小さな缶はエナジードリンクです。",
                        vocab: ["energy drink (エナジードリンク)", "can (缶)"],
                        idioms: ["boost of energy (元気が出る)"],
                        synonyms: ["stimulant (energy booster)"],
                        grammar: "長い主語 'The...can' に対する動詞 'is' です。"
                    },
                    {
                        top: "75%", left: "5%", width: "90%", height: "15%", color: "#000",
                        title: "Price Tags",
                        eng: "The prices range from 140 yen to 180 yen.",
                        jp: "価格は140円から180円の範囲です。",
                        vocab: ["range (範囲に及ぶ)", "price tag (値札)"],
                        idioms: ["bang for your buck (コスパが良い)"],
                        synonyms: ["cost (price)"],
                        grammar: "動詞 'range' を使い、'from A to B' で範囲を示しています。"
                    }
                ]
            }
        ];

        // ============================================
        // ★システムレンダリング（触らなくてOK）
        // ============================================
        
        const galleryRoot = document.getElementById('gallery-root');

        // すべての画像を縦に生成して並べる
        galleryData.forEach((data, index) => {
            
            // ファイル番号を抽出 (例: 001.jpg -> No. 001)
            const match = data.imageFile.match(/(\d+)/);
            const numStr = match ? match[1] : "---";
            const uniqueID = `card-${index}`;

            // カードのHTML構造を作成
            const card = document.createElement('article');
            card.className = 'photo-card';
            card.innerHTML = `
                <div class="card-header">
                    <span class="image-number">No. ${numStr}</span>
                    <button class="toggle-btn" onclick="toggleLocalFrames('${uniqueID}', this)">
                        Show Frames
                    </button>
                </div>
                
                <div class="image-area" id="${uniqueID}-area">
                    <img src="${data.imageFile}" class="main-image" alt="Image ${numStr}">
                    </div>

                <div class="desc-box" id="${uniqueID}-desc">
                    <span class="desc-title">Title Here</span>
                    <div class="eng-text">English text here...</div>
                    <div class="jp-text">Japanese translation...</div>
                    
                    <div class="learning-grid">
                        <div class="learn-item">
                            <h4>Vocabulary</h4>
                            <ul class="l-vocab"></ul>
                        </div>
                        <div class="learn-item">
                            <h4>Idioms</h4>
                            <ul class="l-idiom"></ul>
                        </div>
                        <div class="learn-item">
                            <h4>Synonyms</h4>
                            <ul class="l-synonym"></ul>
                        </div>
                        <div class="learn-item">
                            <h4>Grammar</h4>
                            <div class="l-grammar" style="font-size:0.9rem; color:#444;"></div>
                        </div>
                    </div>
                </div>
            `;

            // ホットスポットの生成
            const imgArea = card.querySelector('.image-area');
            data.spots.forEach(spot => {
                const div = document.createElement('div');
                div.className = 'hotspot';
                Object.assign(div.style, { 
                    top: spot.top, left: spot.left, 
                    width: spot.width, height: spot.height, 
                    borderColor: spot.color 
                });
                
                // クリック時の動作（このカード内の説明ボックスだけを更新）
                div.onclick = (e) => { 
                    e.stopPropagation(); 
                    updateCardDescription(uniqueID, spot); 
                };
                imgArea.appendChild(div);
            });

            galleryRoot.appendChild(card);
        });

        // --- 機能関数 ---

        // 枠の表示切り替え（ローカル制御）
        function toggleLocalFrames(cardID, btn) {
            const area = document.getElementById(`${cardID}-area`);
            const spots = area.querySelectorAll('.hotspot');
            const descBox = document.getElementById(`${cardID}-desc`);
            
            let isHidden = spots[0].style.display === 'none' || spots[0].style.display === '';
            
            spots.forEach(s => s.style.display = isHidden ? 'block' : 'none');
            
            if (isHidden) {
                btn.textContent = "Hide Frames";
                btn.classList.add('active-btn');
            } else {
                btn.textContent = "Show Frames";
                btn.classList.remove('active-btn');
                descBox.style.display = 'none'; // 枠を隠したら説明も隠す
            }
        }

        // 説明文の更新（ローカル制御）
        function updateCardDescription(cardID, data) {
            const box = document.getElementById(`${cardID}-desc`);
            box.style.display = 'block';
            box.style.borderTopColor = data.color;

            // テキスト流し込み
            box.querySelector('.desc-title').textContent = data.title;
            box.querySelector('.desc-title').style.color = data.color;
            box.querySelector('.eng-text').textContent = data.eng;
            box.querySelector('.jp-text').textContent = data.jp;

            // リスト生成ヘルパー
            const fillList = (selector, items) => {
                const ul = box.querySelector(selector);
                ul.innerHTML = '';
                if(items && items.length > 0) {
                    items.forEach(txt => {
                        const li = document.createElement('li');
                        li.textContent = txt;
                        ul.appendChild(li);
                    });
                } else {
                    ul.innerHTML = '<li>-</li>';
                }
            };

            fillList('.l-vocab', data.vocab);
            fillList('.l-idiom', data.idioms);
            fillList('.l-synonym', data.synonyms);
            
            box.querySelector('.l-grammar').textContent = data.grammar || "-";

            // スクロール位置の微調整（説明が見切れないように）
            // box.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

    </script>
</body>
</html>